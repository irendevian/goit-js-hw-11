{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst MY_API_KEY = \"51560534-ee0888e2507fe11f794ee77c8\";\n\n\n export function getImagesByQuery(query) {\n\n     return axios('https://pixabay.com/api/', {\n            params: {\n                key: MY_API_KEY,\n                q: query,\n                image_type: \"photo\",\n                orientation: \"horizontal\",\n                safesearch: true\n            }\n        });\n}\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nexport function createGallery(images) {\n\n    return images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <li>\n            <a href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\"/></a>\n            <div class=\"descr\">\n                <p><span>Likes</span> ${likes}</p>\n                <p><span>Views</span> ${views}</p>\n                <p><span>Comments</span> ${comments}</p>\n                <p><span>Downloads</span> ${downloads}</p>\n            </div>\n        </li>\n    `).join(\"\");\n}\n\n export const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionsDelay: 250,\n});\n\nimport { gallery } from \"../main\";\n\nexport function clearGallery() {\n    gallery.innerHTML = \"\";\n    lightbox.refresh();\n}\n\n\n","import { getImagesByQuery } from './js/pixabay-api.js';\nimport { createGallery } from './js/render-functions.js';\nimport { clearGallery } from './js/render-functions.js';\n// import { showLoader } from './js/render-functions.js';\n// import { hideLoader } from './js/render-functions.js';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { lightbox } from './js/render-functions.js';\n\n\nconst form = document.querySelector(\".form\");\nconst input = document.querySelector(\"input\");\nconst loader = document.querySelector(\".loader\");\nexport const gallery = document.querySelector(\".gallery\");\n\nform.addEventListener(\"submit\", handleSubmit);\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n\n    const userValueInput = input.value.toLowerCase().trim();\n\n    if (!userValueInput) {\n         // iziToast.warning({\n        //     title: 'Warning',\n        //     message: 'Fill in the field!',\n        //     position:  'topRight'\n        // })\n        return;\n    }\n\n    getImagesByQuery(userValueInput)\n    .then(res => {\n        const images = res.data.hits;\n\n        if (images.length === 0) {\n            iziToast.error({\n                title: 'Error',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight'\n            })\n        } else {\n            lightbox.refresh();\n            gallery.insertAdjacentHTML(\"beforeend\", createGallery(images));\n        }\n        \n         })\n    .catch(error => {\n             console.log(error);\n             \n    })\n    // .finally(() => {\n    //         loader.classList.add(\"hidden\");\n    // })\n\n    clearGallery();\n}\n\n"],"names":["MY_API_KEY","getImagesByQuery","query","axios","createGallery","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","lightbox","SimpleLightbox","clearGallery","gallery","form","input","handleSubmit","event","userValueInput","res","iziToast","error"],"mappings":"owBAEA,MAAMA,EAAa,qCAGX,SAASC,EAAiBC,EAAO,CAEpC,OAAOC,EAAM,2BAA4B,CAClC,OAAQ,CACJ,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACb,CAAS,CACT,CCZO,SAASE,EAAcC,EAAQ,CAElC,OAAOA,EAAO,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,uBAE7EL,CAAa;AAAA,wBACZD,CAAY,UAAUE,CAAI;AAAA;AAAA,wCAEVC,CAAK;AAAA,wCACLC,CAAK;AAAA,2CACFC,CAAQ;AAAA,4CACPC,CAAS;AAAA;AAAA;AAAA,KAGhD,EAAE,KAAK,EAAE,CACd,CAEQ,MAAMC,EAAW,IAAIC,EAAe,aAAc,CACtD,aAAc,MACd,cAAe,GACnB,CAAC,EAIM,SAASC,GAAe,CAC3BC,EAAQ,UAAY,GACpBH,EAAS,QAAO,CACpB,CCpBA,MAAMI,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,OAAO,EAC7B,SAAS,cAAc,SAAS,EACxC,MAAMF,EAAU,SAAS,cAAc,UAAU,EAExDC,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EAEpB,MAAMC,EAAiBH,EAAM,MAAM,YAAa,EAAC,KAAI,EAEhDG,IASLpB,EAAiBoB,CAAc,EAC9B,KAAKC,GAAO,CACT,MAAMjB,EAASiB,EAAI,KAAK,KAEpBjB,EAAO,SAAW,EAClBkB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,UAC1B,CAAa,GAEDV,EAAS,QAAO,EAChBG,EAAQ,mBAAmB,YAAaZ,EAAcC,CAAM,CAAC,EAGzE,CAAU,EACL,MAAMmB,GAAS,CACP,QAAQ,IAAIA,CAAK,CAE9B,CAAK,EAKDT,IACJ"}